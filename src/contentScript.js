'use strict';

// Content script file will run in the context of web page.
// With content script you can manipulate the web pages using
// Document Object Model (DOM).
// You can also pass information to the parent extension.

// We execute this script by making an entry in manifest.json file
// under `content_scripts` property

// For more information on Content Scripts,
// See https://developer.chrome.com/extensions/content_scripts

import { GoogleGenerativeAI } from '@google/generative-ai';

// Log `title` of current active web page
const pageTitle = document.head.getElementsByTagName('title')[0].innerHTML;
console.log(
  `Page title is: '${pageTitle}' - evaluated by Chrome extension's 'contentScript.js' file`
);

// Communicate with background file by sending a message
chrome.runtime.sendMessage(
  {
    type: 'GREETINGS',
    payload: {
      message: 'Hello, my name is Con. I am from ContentScript.',
    },
  },
  (response) => {
    console.log(response.message);
  }
);

// Listen for message
chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {
  if (request.type === 'COUNT') {
    console.log(`Current count is ${request.payload.count}`);
  }

  // Send an empty response
  // See https://github.com/mozilla/webextension-polyfill/issues/130#issuecomment-531531890
  sendResponse({});
  return true;
});

const apiKey = 'AIzaSyCjn3NLcHXn3YySI5MNGkX1bVyZKhGoVdY';

const systemInstruction = `ä½ æ˜¯ä¸€ä¸ªåœ°çƒä¸Šæœ€å‰å®³çš„è¯é¢˜è¯„è®ºåˆ†ææ€»ç»“æœºå™¨äººï¼Œæ³¨æ„ä¸¥è°¨åˆ†æï¼Œæˆ‘å°†ä¼šä½¿ç”¨jsonæ ¼å¼ç»™ä½ å‘é€
è¯é¢˜çš„ä¸»é¢˜ï¼ˆtopicï¼‰ï¼Œè¯é¢˜å†…å®¹ï¼ˆcontentï¼‰ï¼Œå’Œè¯„è®ºï¼ˆcommentsï¼‰,éœ€è¦æ€»ç»“è¯„è®ºçš„è§‚ç‚¹å€¾å‘æ•°é‡å‰å‡ åï¼ˆlimitï¼‰
ä½ éœ€è¦å°†ä¸»é¢˜å’Œå†…å®¹åˆ†ææ€»ç»“ï¼Œå¯¹è¯„è®ºè¿›è¡Œè§‚ç‚¹æƒ…æ„Ÿåˆ†ææ€»ç»“ï¼Œå¹¶ä¼°ç®—è§‚ç‚¹å€¾å‘çš„å æ¯”ï¼Œç„¶åå°†ç»“æœä»¥jsonæ ¼å¼æ–‡æœ¬è¿”å›ç»™æˆ‘ï¼Œä¸è¦æ·»åŠ æ ¼å¼è¯´æ˜å‰ç¼€ï¼Œè¿”å›ç»“æœjsonçš„æ ¼å¼åŠè¦æ±‚æ˜¯ï¼š
{
  "topic": "é¢˜ç›®å’Œé¢˜ç›®å†…å®¹å†…å®¹çš„åˆ†ææ€»ç»“",
  "comments": [
    {
      "name":"è§‚ç‚¹æ¦‚æ‹¬ï¼ˆ6ä¸ªå­—å·¦å³ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ç¬¦åˆè¯­å¢ƒçš„emojiè¡¨æƒ…ï¼‰",
      "details":"è§‚ç‚¹çš„è¯¦ç»†è¯´æ˜",
      "percentage": è§‚ç‚¹çš„å ç™¾åˆ†æ¯”ã€é‡è¦ï¼šç™¾åˆ†æ¯”ç›¸åŠ ä¹‹å’Œéœ€è¦ç­‰äº100%ã€‘(æ•°æ®ç±»å‹ä¸ºdoubleï¼Œä¿ç•™ä¸¤ä½å°æ•°ï¼Œè¾“å‡ºç»“æœæ ¹æ®rateé™åºæ’åˆ—)
    }
  ],
}
`;

const genAI = new GoogleGenerativeAI(apiKey);
const model = genAI.getGenerativeModel({
  model: 'gemini-1.5-flash',
  systemInstruction: systemInstruction,
});

const prompt = `{
  "topic": "æ‰“ç®—æ¢ä¸ªæŠ˜å å±ï¼Œè¯·é—® Teams å’Œ MS Authenticator åœ¨å›½å†…çš„å…¼å®¹æ€§",
  "limit":5,
  "content":"æœ€è¿‘ iPhone ä¸Šæ–°ï¼Œä½†æ˜¯æ²¡ä»€ä¹ˆæ–°æ„ï¼Œæ‰€ä»¥è€ƒè™‘æ¢ä¸ª Android æŠ˜å å±è¯•è¯•ï¼Œæš‚æ—¶çœ‹ä¸­äº† Xfold3

ç°åœ¨é¡¾è™‘çš„ä¸»è¦å°±æ˜¯å·¥ä½œä¸­éœ€è¦ä½¿ç”¨çš„ä¸€äº›è½¯ä»¶çš„å…¼å®¹æ€§ï¼Œå…·ä½“æ¥è®²å°±æ˜¯ MS Authenticaotr å’Œ Teams ï¼Œå°¤å…¶æ˜¯ Authenticator ï¼ŒåŸºæœ¬ä¸Šæ¯å¤©éƒ½è¦ç”¨å‡ æ¬¡ã€‚

æœ‰æ²¡æœ‰åœ¨ Android ä¸Šä½¿ç”¨çš„æœ‹å‹æ¥è®²ä¸€ä¸‹ï¼Œå¦‚æœè§£å†³ FQ å¹¶ä¸”å¯ä»¥ä» Google Play Store å®‰è£…çš„è¯ï¼Œä½¿ç”¨ä½“éªŒå¦‚ä½•å‘¢ï¼Ÿ",
"comments":["å®‰å“ç¿»å¢™ä¸è¦å¤ªç®€å•ï¼Œä¸æ»‘çš„å¾ˆï¼Œè¿™ç‚¹ä¸ç”¨æ‹…å¿ƒã€‚\\r\\nè‡³äº MS Authenticaotr å’Œ Teams çš„å…¼å®¹æ€§ï¼Œä½ æ‰¾ä¸ª vivo çš„åº—ï¼Œç°åœºè¯•ä¸€ä¸‹å°±çŸ¥é“äº†ã€‚","ä¸€æ ·å¯¹ iPhone å¤±æœ›ï¼Œæ‘¸è¿‡ Vivo X Fold 3 æ„Ÿè§‰æ¯”æˆ‘çš„ 14 PM è¿˜è½»ï¼Œæµç•…åº¦ä¹Ÿæ¯”æˆ‘ä¹‹å‰ç”¨è¿‡çš„ OneUI å¥½å¾ˆå¤šï¼Œå°±é—²é±¼æ”¶äº†ä¸€å°äºŒæ‰‹ï¼Œä»Šå¤©åˆ°ï¼Œå‡†å¤‡åŒæŒä¸€æ®µæ—¶é—´è¯•è¯•çœ‹ã€‚","å¯Œå¼º app ä¹ˆ github ä¸‹ apk ï¼Œå®‰å“éƒ½æ˜¯å…è´¹çš„ï¼Œå°±æ˜¯ç•Œé¢ä¸å¦‚è‹¹æœä¸Šä»€ä¹ˆ surge å•Šä»€ä¹ˆçš„ï¼Œä½†æ˜¯å…è´¹å°±å®Œäº‹äº†\\r\\nè€Œä¸”æ–°çš„åè®®ä»€ä¹ˆ reality ï¼Œhysteria ï¼Œè‹¹æœä¸Šé‚£å‡ ä¸ªæ”¯æŒä¹Ÿå¾ˆå·®å•Š\\r\\n\\r\\nè°·æ­ŒæœåŠ¡ä¹ˆï¼Œå®‰å“ç°åœ¨é™¤äº†åä¸ºéƒ½è‡ªå¸¦çš„å•Š\\r\\nè®¾ç½®é‡Œæ‰“å¼€ä¸‹ï¼Œå°±èƒ½ç”¨äº†å•Š","Authenticaotr  è‹¹æœæ¢å®‰å“ æœ‰ä¸ªé—®é¢˜ ï¼ˆèµ·ç æˆ‘æ˜¯è¿™æ · å¯èƒ½è®¾ç½®ä¸å¯¹ï¼Ÿï¼‰åŒä¸€ä¸ªè´¦å·  åŒæ­¥æ²¡äº†ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚","FQ ä¸æ˜¯ä¸»è¦é—®é¢˜ï¼Œä¸»è¦é—®é¢˜æ˜¯ä¸Šè¿°ä¸¤ä¸ªåº”ç”¨çš„å…¼å®¹æ€§å¦‚ä½•ï¼Œå°¤å…¶æ˜¯ Authenticator\\r\\n\\r\\nåœ¨ Vivo åº—é‡Œæˆ‘æ—¢æ²¡åŠæ³•ç°åœºè£… Play Store ä¸‹è½½ï¼Œä¹Ÿæ²¡åŠæ³•æ‰¾å…¬å¸ IT ç»‘æˆ‘çš„åŸŸè´¦å·ï¼Œæ‰€ä»¥åªæœ‰å…ˆé—®é—®ç”¨è¿‡çš„æœ‹å‹ï¼Œé¿å…å‡ºä»€ä¹ˆå¹ºè›¾å­ã€‚","@dodakt åŒæ­¥æ²¡äº†æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå°çº¢ä¹¦ä¸Šçœ‹åˆ°æœ‰äººè¯´æ¨é€ä¼šæ²¡æœ‰ã€‚","@JingW #6  æˆ‘è¡¨è¿°æœ‰ç‚¹é—®é¢˜ å°±æ˜¯ ios åˆ°å®‰å“  åŸæ¥ä¿å­˜çš„ 2FA æ²¡æœ‰äº† åªèƒ½ä¸€ä¸ªä¸€ä¸ªé‡æ–°å¼„å›æ¥ å¯èƒ½ä¹‹å‰é çš„æ˜¯ iCloud ä¿å­˜  æ¢äº†å®‰å“å é å¾®è½¯è‡ªèº«çš„äº‘å­˜å‚¨ä¿å­˜","@dodakt æ‡‚äº†ï¼Œæˆ‘å·²ç»åšå¥½è¿™ä¸ªå¿ƒç†å‡†å¤‡äº†ğŸ˜…","vivo åœ¨ç”¨ï¼Œæœ‰ç”¨ authenticator ï¼Œæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œauthenticator è¿˜æ”¯æŒæ— éšœç¢åŠŸèƒ½ï¼Œè¿™æ ·å¯ä»¥åœ¨æ›´å¤šçš„åº”ç”¨è‡ªåŠ¨å¡«å……ã€‚\\r\\ngoogle play åœ¨æ‰‹æœºçš„è®¾ç½®ä¸­ ç”¨æˆ·ä¸è´¦å· ä¸­æ‰“å¼€è°·æ­ŒåŸºç¡€æœåŠ¡ï¼Œå°±ä¼šè‡ªåŠ¨è·å¾— play å•†åº—å’Œæ¡†æ¶ï¼ŒæŒ‚ä¸Šæ¢¯å­å°±éƒ½èƒ½æ­£å¸¸ä½¿ç”¨äº†ã€‚\\r\\nFQ æ¨è clash meta ï¼Œåœ¨ vivo çš„æ§åˆ¶ä¸­å¿ƒé‡Œå¯ä»¥ç›´æ¥æ§åˆ¶ clash meta çš„å¼€å…³","@dodakt æˆ‘æ„Ÿè§‰å¾®è½¯é‚£ä¸ª Authenticator ä¹Ÿæ²¡æœ‰äº‘ä¿å­˜å•Šï¼ŒåŒä¸€ä¸ªæ‰‹æœºï¼Œå¸è½½ app å†é‡æ–°å®‰è£…ç™»å½•å›æ¥ï¼Œä¹‹å‰çš„ Auth ä¿¡æ¯éƒ½æ²¡äº†ã€‚è¿˜æ˜¯è¯´éœ€è¦åœ¨å“ªé‡Œè®¾ç½®ä¸€ä¸‹ï¼Ÿ","æ­£å¥½æˆ‘æœ‰ç”¨è¿™ä¸¤ä¸ªè½¯ä»¶ï¼Œä¹Ÿæ­£å¥½ä» iPhone åˆ‡æ¢åˆ°å®‰å“ï¼Œæˆ‘åªèƒ½è¯´ï¼Œè¿™ä¸¤ä¸ªè½¯ä»¶å¦‚æœæ˜¯å¿…éœ€çš„è¯ï¼Œå»ºè®®ä»ç„¶è‹¹æœã€‚\\r\\n\\r\\nMS Authenticator åŸºæœ¬æ²¡æœ‰è®¤è¯å¼¹å‡ºæç¤ºï¼Œå¦‚æœèƒ½æ¥å—åªéœ€è¦æ•°å­—ç çš„è¯ï¼Œå€’æ˜¯å¯ä»¥ç”¨ä¸€ä¸‹ã€‚å¦å¤–è¿™ä¸ªå¥½åƒå¯ä»¥ç”¨ä»»æ„ Authenticator æ›¿ä»£çš„ï¼Œæˆ‘å…¬å¸çš„åŸŸç»‘å®šï¼Œæˆ‘å°±æ˜¯ç›´æ¥ç”¨ google Authenticator ç»‘å®šçš„ï¼ŒéªŒè¯ç ä¸€ç›´æ­£å¸¸ã€‚\\r\\nTeams åŸºæœ¬å·²ç»æ”¾å¼ƒï¼Œè®¤è¯æ˜¯å¯ä»¥ï¼Œä½†æ˜¯è¿‡ä¸€æ®µæ—¶é—´å°±å¤±æ•ˆã€‚iphone ä¸‹é¢çš„è®¤è¯å¾ˆç®€å•ï¼Œè¿˜èƒ½ç”¨ä¸€ç”¨ã€‚Teams æˆ‘åœ¨å®‰å“ä¸‹æäº†å‡ æ¬¡å°±æ”¾å¼ƒä¸ç”¨äº†ï¼Œåæ­£æœ‰æ€¥äº‹ä¼šæœ‰äººå¾®ä¿¡æ‰¾æˆ‘çš„ã€‚","å‰ªè´´æ¿åŒæ­¥è²Œä¼¼è¿˜æ˜¯ä¸æ”¯æŒ","è§£å†³ä¸äº†æ¨é€å§ï¼Ÿ","@liuzimin è®¾ç½®é‡Œé¢å¯é€‰ iCloud å¤‡ä»½ã€‚æˆ‘ä¸€ç›´åœ¨ç”¨å®ƒã€‚æ¢äº†å‡ æ¬¡æ‰‹æœºæ²¡é‡åˆ°ä»€ä¹ˆé—®é¢˜ã€‚","æ²¡æ³•è‡ªåŠ¨å¼¹å‡ºé€šçŸ¥ï¼Œå¾—æ‰‹åŠ¨æ‰“å¼€","è¿™ä¸ªé—®é¢˜å¾®è½¯ä¸­å›½è‡ªå·±éƒ½æä¸å®šï¼Œæ‰€ä»¥æ‰ä¼šç»™ä¸­å›½å‘˜å·¥å‘ iPhone 15â€¦","å¾®è½¯ä¸­å›½ teams å®‰å“ä¸€ç›´æ²¡æ³•ç”¨å•Š","è¿™ä¸¤ä¸ªç”¨ä¸äº†çš„ã€‚ä¸Šé¢è¯´èƒ½ç”¨çš„å¤§æ¦‚ç‡ä¸æ˜¯å·¥ä½œç”¨ï¼Œåˆ°æ—¶å€™ç¿»è½¦æœ‰ä½ æ€¥çš„ã€‚","æˆ‘éƒ½çœ‹ä¸æ‡‚ä½ ä»¬è¯´çš„å…¼å®¹æ€§æ˜¯å•¥æ„æ€äº†,å®‰è£…ä¸ä¸Š?","å¤–ä¼çš„è¯è¿˜æ˜¯è€è€å®å® iphone å§ã€‚android é€šçŸ¥æ¨é€æ˜¯å¤§é—®é¢˜","@dodakt å®‰è£…å®Œæˆåæ‰“å¼€ ä¸è¦ç‚¹ç™»å½• ã€‚ã€‚ã€‚è¦ç‚¹ä¸‹é¢çš„å°å­— å¼€å§‹æ¢å¤ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚","@liuzimin æˆ‘æ˜¯ Android ç”¨æˆ·ã€‚ã€‚ã€‚ã€‚MS Authenticator è®¾ç½®é‡Œæœ‰ äº‘å¤‡ä»½         ã€‚åœ¨æ–°è®¾å¤‡ä¸Šä¸èƒ½ç›´æ¥ç™»å½•ã€‚è¦é€‰ä¸‹é¢å°å­ å¼€å§‹æ¢å¤ã€‚ã€‚ã€‚ã€‚ã€‚","authenticator æˆ‘ç”¨ Google çš„ å¯ä»¥åŒæ­¥ æ²¡é—®é¢˜\\r\\nå°ç±³è®¾ç½®é‡Œæ‰“å¼€ Google æœåŠ¡ï¼Œå»å°ç±³å•†åº—æœç´¢ Google play å®‰è£…æœ€æ–°å•†åº—ï¼Œç„¶åæŒ‚æ¢¯å­å» play å•†åº—ä¸‹ Google è®¤è¯å™¨ã€‚\\r\\nteams æ²¡ç”¨è¿‡ä¸çŸ¥é“","æœ‰äº† play å•†åº—ï¼Œç†è®ºä¸Šå•¥éƒ½å¯ä»¥ä¸‹è½½å•Šï¼Œteams ä¹Ÿæœ‰","æˆ‘å’Œä½ è¯¢é—®çš„ä½¿ç”¨ç¯å¢ƒå®Œå…¨ç›¸ç¬¦æ‰€ä»¥å¯ä»¥éå¸¸å‡†ç¡®çš„å›ç­”ã€‚\\r\\n\\r\\nè™½ç„¶ä¸¤è€…æœ¬èº«çš„ä½¿ç”¨ä¸éœ€è¦æ¢¯å­ï¼Œä½†ä¸¤è€…çš„æ¨é€éƒ½å¼ºä¾èµ–äº GMS ï¼Œæ‰€ä»¥å¦‚æœä½ çš„è®¾å¤‡æœ‰ Google play æœåŠ¡å¹¶ä¸”æœ‰æ¢¯å­é‚£å°±æ²¡é—®é¢˜ï¼Œå¦åˆ™å°±åªèƒ½æ‰‹åŠ¨æ‰“å¼€ APP åˆ·æ–°é€šçŸ¥ã€‚\\r\\n\\r\\næˆ‘æ‰‹æœºæœ‰æ¯”è¾ƒç¨³å®šçš„å…¨å¤©å€™ç¿»å¢™ç¯å¢ƒæ‰€ä»¥æ¨é€éƒ½æ²¡æœ‰é—®é¢˜ï¼ŒAuthenticator å¼¹é€šçŸ¥å¾ˆåŠæ—¶ ï¼ŒåŸºæœ¬éƒ½ 5 ç§’ä»¥å†…ï¼Œä¸è¿‡ teams é€šçŸ¥ç»™æˆ‘æ‰‹åŠ¨å…³æ‰äº†(ä¸‹ç­ä¸æƒ³çœ‹æ¶ˆæ¯â€¦â€¦)\\r\\n\\r\\nå¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯å›½è¡Œå®‰å“ç³»ç»Ÿå¤§å¤šå¯¹é€šçŸ¥å’Œåå°é™åˆ¶çš„éå¸¸ä¸¥æ ¼ï¼Œå³ä½¿ä½ æœ‰å®Œå¤‡çš„å¤–ç½‘ç¯å¢ƒå¯èƒ½ä¹Ÿå¾—é€šè¿‡ä¸€äº›è®¾ç½®æŠŠç‰¹å®šåº”ç”¨æ”¾è¡Œ/æ·»åŠ ç™½åå•æ‰èƒ½ç¨³å®šæ”¶åˆ°æ¨é€ã€‚","ä¸è¦åœ¨ä¸ªäººæ‰‹æœºä¸Šè£… teams å’Œ Authenticator ï¼Œå¤ªæ³„æ¼éšç§äº†\\r\\n\\r\\nå…¬å¸ä¸ç»™ä½ é…æ‰‹æœºå˜›","@huluhulu Authenticator ä¸»åŠ¨å¼¹å‡ºæ²¡ä»€ä¹ˆæ„ä¹‰å§ï¼Œåæ­£ä»€ä¹ˆæ—¶å€™éœ€è¦å¼¹éªŒè¯è‡ªå·±éƒ½æ˜¯çŸ¥é“çš„ï¼Œæˆ‘æ¯æ¬¡éƒ½æ˜¯éœ€è¦éªŒè¯äº†ï¼Œæ‰“å¼€ Authenticator å°±è¡Œäº†ã€‚æ ¹æœ¬ä¸ç­‰å¼¹é€šçŸ¥å‡ºæ¥ã€‚","teams é€šçŸ¥æ— è§£ï¼ŒæŒ‚åå°ç…§æ ·è¢«æ€","@dodakt æœ‰çš„å‚å®¶çš„ Authenticator ï¼Œæ¢æ‰‹æœºéƒ½éœ€è¦åå°åˆ é™¤è®¾å¤‡ï¼Œé‡æ–° Enroll ï¼ŒæŒºæ¶å¿ƒçš„ï¼Œå°¤å…¶æƒé™æ²¡åœ¨è‡ªå·±è¿™è¾¹ï¼Œå¦‚æœåœ¨å°åº¦å›¢é˜Ÿé‚£ä½ å°±ç­‰å§ã€‚","MS Authenticator èƒ½ç”¨ï¼Œå°è±¡é‡Œæ²¡æœ‰ google æ¡†æ¶æ‰“ä¸å¼€ï¼Œç„¶åå¹³æ—¶ç”¨èƒ½ç›´è¿\\r\\n\\r\\næ³¨æ„å°å¿ƒä»–å®¶çš„äº‘åŒæ­¥é€»è¾‘ï¼Œè‡ªå·±æ“ä½œå¾ˆå®¹æ˜“ç›´æ¥æŠŠäº‘ç«¯æ¸…ç©ºã€‚ã€‚å¦‚æœä½ åªç”¨æ¥ç™»å¾®è½¯è´¦å·çš„è¯å¥½åƒå€’æ˜¯ä¸ç”¨æ‹…å¿ƒè¿™ä¸ª","ç”Ÿäº§åŠ›æœ‰å¤šå±ç”µè„‘ï¼Œå¤§å±å½±éŸ³å¨±ä¹æœ‰å¹³æ¿ï¼Œå‡ºå·®æœ‰è½»è–„æœ¬ï¼Œä¸€ç›´ä¸æ˜ç™½æŠ˜å æ‰‹æœºæœ‰ä½•æ„ä¹‰ï¼Œè€Œä¸”è¿™ç©æ„è¿˜ä¼šé™ä½ç»­èˆªã€å¢åŠ é‡é‡ã€å¢åŠ æ“ä½œéº»çƒ¦ç¨‹åº¦ã€‚\\r\\n\\r\\næˆ‘èº«è¾¹å€’æ˜¯å¾ˆå¤šä¸­äº§å¥³ç¬¬ä¸€æ—¶é—´ä¹°äº†è¿™ç©æ„ã€‚","@laminux29 ä¸»è¦è¿½æ±‚ All-in-one ï¼Œå°è¯•ç”¨ä¸€å°è®¾å¤‡ä»£æ›¿æ‰‹æœº+å¨±ä¹å¹³æ¿ï¼Œè¿™æ ·å‡ºé—¨å°±å¯ä»¥å°‘å¸¦ä¸œè¥¿ã€‚","@Mortisc @huluhulu @maplerecall æ„Ÿè°¢ç•™è¨€ï¼Œéå¸¸æœ‰å‚è€ƒä»·å€¼ /bow","Authenticator çš„ app å¥½åƒæ˜¯é€šç”¨çš„åè®®ï¼Ÿ\\r\\n\\r\\nè‡³å°‘æˆ‘ç›®å‰åœ¨ç”¨çš„åŸºæœ¬éƒ½èƒ½ç”¨ Google authxxxApp å’Œ 1password å†…å»ºçš„è®¤è¯åŠŸèƒ½æ”¯æŒ\\r\\n\\r\\næˆ‘å…¨ç»™è¿ç§»åˆ° 1password äº†ï¼Œå°±å› ä¸ºä»–å¯ä»¥æ–¹ä¾¿çš„è‡ªåŠ¨å¡«å†™ã€‚ã€‚","ä½ åªè¦ä¼šç§‘å­¦ä¸Šç½‘ï¼Œç„¶åæŠŠä½ æ‰‹æœºçš„ google play å¼„å‡ºæ¥ï¼Œå¤©ä¸‹å°±æ˜¯ä½ çš„ã€‚","realme GT neo5 ï¼Œå›½è¡Œç‰ˆï¼Œç›´æ¥å°±è£…å¥½è°·æ­Œå…¨å®¶æ¡¶å’Œ Authenticator äº†ï¼Œsteam å’Œ CLOUDFLARE éƒ½ç”¨è¿™ä¸ªç™»å½•ã€‚","ç®€å•ç”¨äº†ä¸¤å°æ—¶ X Fold 3 ï¼Œæœ‰äº›åœ°æ–¹çš„ä½“éªŒæ„Ÿè§‰ç•¥å¾®è¾¾ä¸åˆ°é¢„æœŸã€‚\\r\\n\\r\\næ¯”å¦‚ YouTube å¦‚æœå…ˆåœ¨å¤–å±æ‰“å¼€ï¼Œå†…å±é¦–é¡µå°±æ˜¯ç›´æ¥æ”¾å¤§ï¼Œè€Œä¸æ˜¯åŒæ æ¨¡å¼ï¼Œéœ€è¦å…³æ‰é‡å¼€ã€‚æ’­æ”¾è§†é¢‘çš„æ—¶å€™å±å¹•åˆ·æ–°ç‡ä¼¼ä¹ä¼šé”åˆ° 60Hz ï¼ŒåŒæ—¶æ»‘åŠ¨ UI å°±ä¼šè§‰å¾—æœ‰äº›å¡å¡çš„ã€‚\\r\\n\\r\\nPlex Android å®¢æˆ·ç«¯ä½“éªŒä¸æ˜¯å¾ˆå¥½ï¼ŒApp åªè¦ä¸€ç¦»å¼€è¶…è¿‡ä¸¤ç§’ï¼Œå†è¿›å…¥å°±ä¼šé‡æ–°åŠ è½½é¦–é¡µï¼Œéƒ¨åˆ†åœ°æ–¹é¡µé¢è·³è½¬åŠ¨ç”»æ•ˆæœçœ‹èµ·æ¥å¾ˆè¯¡å¼‚â€¦","å¾®è½¯çš„ 2fa app ä¼šæ‰åŒæ­¥ï¼Œè¡€çš„æ•™è®­ï¼Œå·²ç»å¾ˆå¤šäººä¸­è¿‡æ‹›äº†","@2000wcw @konakona ä¸»è¦æœ€è¿‘åœ¨å°çº¢ä¹¦è¿˜æ˜¯å“ªé‡Œçœ‹åˆ°æœ‰äººè¯´è°·æ­Œåœ¨å‡å°‘å¯¹å…¶ä»–å‚å•†çš„æ”¯æŒï¼Œæ‰€ä»¥ä» Play Store ä¸‹è½½çš„ä¸œè¥¿å¯èƒ½ä¸èƒ½åœ¨å›½è¡Œæœºå™¨ä¸Šç”¨ã€‚ æˆ‘æœ‰ä¸€äº›å¹´æ²¡æœ‰ç”¨è¿‡ Android ï¼Œä¸çŸ¥é“å…·ä½“æƒ…å†µå’‹æ ·ã€‚å¯èƒ½è¿˜æ˜¯å¾—è‡ªå·±è¯•ä¸€ä¸‹ï¼Œå°é©¬è¿‡æ²³","Teams å¼ºéœ€æ±‚çš„è¯è¿˜æ˜¯å»ºè®®çœ‹çœ‹ä¸‰æ˜Ÿï¼Œå¯ä»¥è€ƒè™‘ä¹°å›½è¡Œåˆ·å¤–ç‰ˆï¼ˆä¸ä¼šå½±å“ Knox ç ´ä¿ï¼‰","@PrinceofInj æœ‰ç”¨å•Šï¼Œå…¬å¸å¾ˆå¤šé¡µé¢æ˜¯é»˜è®¤å¼¹ MS Authenticator è®¤è¯å…è®¸ï¼Œå¦‚æœèƒ½å¼¹å‡ºæ¥ç‚¹å…è®¸å°±å¯ä»¥äº†ã€‚å¦‚æœå¼¹ä¸å‡ºæ¥ï¼Œé¡µé¢ä¸Šä¹Ÿæ²¡æœ‰éªŒè¯ç çš„åœ°æ–¹ï¼Œéœ€è¦ç‚¹åˆ‡æ¢åˆ°éªŒè¯ç è®¤è¯ï¼Œæœ‰æ—¶å€™åˆæ²¡æœ‰åˆ‡æ¢è¿™ä¸ªé€‰é¡¹ï¼Œå¾ˆçƒ¦çš„ã€‚","å›å¸–å¾ˆå¤šäººæ²¡æœ‰ç”¨è¿‡ä¼ä¸šç‰ˆ teams ï¼Œé‚£ä¸ªä¸œè¥¿çš„è®¤è¯çœŸçš„å¾ˆçƒ¦ï¼Œä¸æ˜¯è¯´ç¿»å¢™å°±å¯ä»¥ï¼Œè¿˜æ¶‰åŠåˆ°è¯ä¹¦+Authenticator è®¤è¯ï¼Œå›½è¡Œå®‰å“æ‰‹æœºåŸºæœ¬æ”¾å¼ƒã€‚\\r\\nå¦‚æœèƒ½ç¨³å®šç¿»å¢™+GMS+Google Store ï¼Œé‚£å°±æ²¡é—®é¢˜ã€‚","ä¹‹å‰ç”¨å°ç±³æ‰‹æœºï¼ŒGoogle æç¤ºå°±æ˜¯æ”¶ä¸åˆ°çš„ï¼Œåˆ·äº† MIUI Global ä»¥åè¿™ä¸ªé—®é¢˜å°±è§£å†³äº†","Authenticator è¦ Google å¥—ä»¶ è¦ç¿»å¢™\\r\\nè€Œä¸”å®‰å“ä¸æ”¯æŒå¤šä¸ªè´¦å·å¯ç”¨æ— å¯†ç ç™»å½•åªèƒ½ä¸€ä¸ª\\r\\nå¦‚æœæœ‰å¤šè´¦æˆ·éœ€æ±‚è¿˜å¾—ç”¨ iPhone","ä¸‰æ˜Ÿå›½è¡Œåœ¨ç”¨ï¼Œä¼ä¸š teams ï¼Œoutlook éƒ½æ²¡é—®é¢˜","Authenticator å®‰å“ç«¯æ˜¯è‡ªå»ºåŒæ­¥ï¼Œè‹¹æœç«¯æ˜¯ iCloud åŒæ­¥ï¼Œè¿˜ä¸èƒ½åŒå‘è¿ç§»ï¼Œå»ºè®®è¿˜æ˜¯ç”¨ç¬¬ä¸‰æ–¹å¼€æºæ”¯æŒå¤šäº‘åŒæ­¥çš„ 2FA app","ä¸æ˜¯ ç”¨è‹¹æœæ‰‹æœºä¸å¥½ä¹ˆ.. ä¸ºå“ˆè¦è·Ÿç€å®‰å“æŠ˜è…¾","Authenticator çš„è¯ï¼Œå¦‚æœæ˜¯é€šç”¨çš„ TOTP é‚£ç§ 2FA éªŒè¯ï¼Œç”šè‡³å¯ä»¥è‡ªå·±åœ¨çº¿éƒ¨ç½²ä¸€ä¸ªã€‚\\r\\næ‰‹æœºæœ‰æµè§ˆå™¨å°±èƒ½ç”¨ã€‚https://github.com/Bubka/2FAuth","æ‰‹æŒ vivo. MS Authenticator å’Œ Teams éƒ½èƒ½ç”¨ã€‚æ™®é€šçš„äºŒæ¬¡éªŒè¯æ˜¯æ²¡é—®é¢˜\\r\\nä½†æ˜¯æœ€è¿‘å…¬å¸å¼ºåˆ¶ç”¨ Passkey éªŒè¯ï¼Œè¿™ä¸ªæ­»æ´»æä¸å®šã€‚æœ€åæ¢ iphone äº†ã€‚ã€‚ã€‚","è¿™ä¸¤ä¸ªæˆ‘éƒ½èƒ½ç”¨ã€‚ä¸ºå•¥æœ‰äººè¯´ç”¨ä¸äº†å‘¢?","@zhuangqhc #49 teams æ¥æ”¶é€šçŸ¥çš„å®æ—¶æ€§é«˜å—ï¼Ÿéœ€è¦ç‰¹æ®Šè®¾ç½®å—ï¼Ÿæ¯”å¦‚æŒ‚æ¢¯å­ä¹‹ç±»çš„","Fuck å®ƒçš„ authenticator ï¼Œæ¢æ–°æ‰‹æœºï¼ŒMFA æ— æ³•è¿è¿‡æ¥ã€‚ç»Ÿç»Ÿä¸¢å¤±ï¼Œå°±å‰©ä¸‹å¾®è½¯è‡ªå·±çš„ä¸€ä¸ªã€‚æ¢æˆ FreeOTP äº†","åŒæŒ iPhone 14PM + Vivo X Fold 3 ï¼ŒçœŸçš„ä¸é”™ï¼ŒæŠ˜å å±è¿˜æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå‡ºå»æ—…æ¸¸æŸ¥åœ°å›¾ã€æ‹ç…§ï¼ˆç‰¹åˆ«æ˜¯å¤œæ™¯ï¼Œæ— æ•Œï¼‰çœ‹è§†é¢‘éƒ½å¾ˆèµ","é¢˜å¤–è¯ Authenticator æ˜¯ä¸ªåƒåœ¾ï¼","å½“åˆä» andriod æ¢åˆ° ios ï¼Œå°±å‘ç° MS Authenticator çœ‹èµ·æ¥æ˜¯æ”¯æŒè·¨å¹³å°çš„ï¼Œä½†å®é™…å¹¶ä¸æ”¯æŒ\\r\\næ‰€ä»¥åæ¥æ¢åˆ°äº† authy","è¯´èµ·æ¥ï¼Œpersonal profile é‡Œçš„ VPN å¹¶ä¸èƒ½æ”¹å˜ work profile é‡Œ app çš„ç½‘ç»œæµå‘\\r\\nä½ è¦è®©å…¬å¸ç»™ä½ å¼€ work profile çš„è¯ï¼Œä½ è¦å…ˆåœ¨è·¯ç”±å™¨é‚£è¾¹ç¿»è¿‡å»ï¼Œç„¶åæ‰èƒ½æ¿€æ´»æˆåŠŸ\\r\\nTeams æœ¬èº«ç”¨èµ·æ¥æ²¡å•¥é—®é¢˜ï¼Œä¸ç¿»ä¹Ÿèƒ½ç”¨ï¼Œä½†æ˜¯åå°é€šçŸ¥çœ‹ä¸Šå»èµ°çš„æ˜¯ personal profile é‡Œçš„ GCM æ¨é€\\r\\næ¯æ¬¡æ›´æ–° Teams ï¼Œéœ€è¦æ‰“å¼€ä¸€ä¸‹è®©å®ƒåœ¨å¤–ç½‘å®Œæˆ update ï¼Œåå°é€šçŸ¥æ‰èƒ½ç»§ç»­ç”¨","MS Authenticaotr æˆ‘åœ¨åä¸ºä¸Šéƒ½èƒ½ç”¨ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œå°±åªæ˜¯ä¸èƒ½è£… Play ç‰ˆè€Œå·²","ä¼ä¸šè¿™ä¸€å—ï¼Œè€ƒè™‘æ›¿æ¢ä¸º iPhone ã€‚å¾®è½¯è‡ªå·±éƒ½æ˜¯è¿™ä¹ˆå¹²ï¼Œç»Ÿä¸€ç»™ç”¨å®‰å“çš„å‘˜å·¥ï¼Œé…ä¸€å° iPhone ã€‚","ç›´æ¥åœ¨ M$ç½‘ç«™ä¸‹è½½çš„ Teams å’Œ MS Authenticator çš„ APK\\r\\næ²¡æœ‰å®æ—¶æ¨é€ï¼Œåˆ«äººç”µè¯æˆ‘å‡ ä¹éƒ½æ˜¯æ¼æ¥çš„ï¼ŒTeams å°±æˆäº†å•çº¯çš„èŠå¤©/ä¼šè®®å·¥å…·äº†\\r\\nMS Authenticator çš„æ¨é€éªŒè¯ä¹Ÿæ¨ä¸åˆ°ï¼Œè¿™ä¸ªè¿˜èƒ½å¿ï¼Œè¾“ä¸ª MFA Code ä¹Ÿå°±è§£å†³äº†","æˆ‘çš„åä¸º mate40 pro è£…ä¸Š microG å¥—ä»¶æ¨¡æ‹Ÿ google service, æ­æ¢¯å­å MS Authenticator ã€okta  å’Œ G å®¶çš„éƒ½å¯ä»¥æ­£å¸¸æ¨é€æ¶ˆæ¯","ä½ è¦æ˜¯ç”¨è¿™äº›ä¸œè¥¿ï¼Œè¿˜æ˜¯ä¹°ä¸‰æ˜Ÿå§ã€‚ã€‚","å¤–ä¼ç”¨æˆ·ã€‚æ‰‹æŒ ä¸€åŠ  ColorOS 15\\r\\n\\r\\nAuthenticator è¦æ¯” iPhone ä¸Šå¼¹å‡ºé€šçŸ¥æ…¢ 3-5 ç§’ï¼Œèƒ½ç”¨ä½†ä¸å¥½ç”¨ã€‚\\r\\nTeams / Outlook èƒ½æ”¶å‘æ¶ˆæ¯ã€‚ä½†æ˜¯ ï¼ˆ 1 ï¼‰åœ¨çº¿çŠ¶æ€å…¨éƒ¨ä¸æ­£å¸¸ï¼Œæˆ‘è¿å¶å°”çœ‹è€æ¿æ˜¯ä¸æ˜¯èµ°äº†æ–¹ä¾¿æºœå·ä¸‹æ¥¼æ•£æ­¥éƒ½åšä¸åˆ°äº†ï¼›ï¼ˆ 2 ï¼‰é€šçŸ¥å¤§æ¦‚ 5 åˆ†é’Ÿåéšå¿ƒæƒ…æ¨é€ï¼Œæœ‰æ—¶å€™å‡ ä¸ªå°æ—¶æ‰æ¨é€ï¼Œ å¦‚æœå¿ƒé‡Œæ…Œç‚¹å¼€åº”ç”¨ï¼Œä¼šä¸€ä¸‹å­çªçªçªå¼¹å‡º N ä¸ªé€šçŸ¥ã€‚\\r\\n\\r\\nå·²ç»åœ¨æ”’é’±ç­‰æ˜å¹´åˆçš„ iPhone SE4 äº†ï¼Œè¿™ä¸ªé€šçŸ¥é—®é¢˜å¤ªæ¼ç«ï¼Œæä¸å¥½å…¬å¸æ™šä¸ŠæŠŠæˆ‘è£äº†ï¼Œç¬¬äºŒå¤©ä¸Šç­è·¯ä¸Šæˆ‘æ‰çœ‹åˆ°æ¶ˆæ¯ã€‚"]


}`;

console.log('Generating content...');

const result = await model.generateContent(prompt);
let message = result.response.text();
console.log(message);
// è§£æä¸ºjson
let jsonData = JSON.parse(message);

let legendColors = [
  '#f1e05a',
  '#563d7c',
  '#e34c26',
  '#2668e3',
  '#97c98f',
  '#ffc400',
];

const topicSummery = jsonData.topic;
const data = jsonData.comments;

// åŠ¨æ€æ•°æ®ï¼ŒåŒ…å«æ¯ä¸ªæ ‡é¢˜çš„åç§°ã€å æ¯”ã€é¢œè‰²å’Œè¯¦æƒ…ä¿¡æ¯
// const data = [
//   { name: "ğŸ¤¨å¹³å°æ”¶è´¹", percentage: 30, color: "#f1e05a", details: "å¹³å°æ”¶è´¹åŒ…å«å¹³å°æŠ½æˆã€è·¯è´¹ã€ç¯æ³¡ææ–™å’Œäººå·¥è´¹ï¼Œä½œè€…è®¤ä¸ºå¹³å°æŠ¥ä»·è¿‡é«˜ï¼Œä½†å¹³å°ä¸Šé—¨æœåŠ¡åŒ…å«äº†è·¯è´¹å’Œäººå·¥è´¹ï¼Œæ‰€ä»¥ä»·æ ¼ç›¸å¯¹è¾ƒé«˜ã€‚" },
//   { name: "ğŸ‘è‡ªå·±åŠ¨æ‰‹", percentage: 25, color: "#563d7c", details: "ä½œè€…å’Œéƒ¨åˆ†è¯„è®ºè€…å»ºè®®è‡ªå·±åŠ¨æ‰‹æ›´æ¢ç¯æ³¡ï¼Œè®¤ä¸ºæ›´æ¢ç­’ç¯æ“ä½œç®€å•ï¼Œç½‘ä¸Šæœ‰æ•™ç¨‹å¯ä»¥å‚è€ƒï¼Œå¯ä»¥èŠ‚çœè´¹ç”¨ã€‚" },
//   { name: "ğŸ‘å¹³å°å‘äºº", percentage: 10, color: "#e34c26", details: "éƒ¨åˆ†è¯„è®ºè€…è®¤ä¸ºå¹³å°æ”¶è´¹ç›¸å¯¹åˆç†ï¼Œå› ä¸ºåŒ…å«äº†è·¯è´¹ã€äººå·¥è´¹å’Œææ–™è´¹ï¼Œä½†ä»·æ ¼ä»ç„¶åé«˜ï¼Œå»ºè®®æ‰¾æ›´ä¾¿å®œçš„ç»´ä¿®æ¸ é“ã€‚" },
//   { name: "ğŸ˜•å…¶ä»–æ¸ é“", percentage: 10, color: "#2668e3", details: "ç”¨äºå®šä¹‰ç½‘é¡µçš„åŸºæœ¬ç»“æ„" },
//   { name: "ğŸ‘ä»·æ ¼åˆç†", percentage: 10, color: "#de3711", details: "å¹³å°æ”¶è´¹åŒ…å«å¹³å°æŠ½æˆã€è·¯è´¹ã€ç¯æ³¡ææ–™å’Œäººå·¥è´¹ï¼Œä½œè€…è®¤ä¸ºå¹³å°æŠ¥ä»·è¿‡é«˜ï¼Œä½†å¹³å°ä¸Šé—¨æœåŠ¡åŒ…å«äº†è·¯è´¹å’Œäººå·¥è´¹ï¼Œæ‰€ä»¥ä»·æ ¼ç›¸å¯¹è¾ƒé«˜ã€‚" },
//   { name: "ğŸ’°ä»·æ ¼åˆç†", percentage: 15, color: "#14cb78", details: "ç”¨äºå®šä¹‰ç½‘é¡µçš„åŸºæœ¬ç»“æ„" }
// ];

// åœ¨ä¸»é¢˜ä¸‹é¢æ·»åŠ å±•ç¤ºåŒºåŸŸ
const parent = document.querySelector('#Main > div:nth-child(2)');
console.log("don't find title");
if (parent) {
  console.log('find', parent);
}

// åˆ›å»ºå®¹å™¨å…ƒç´ 
const container = document.createElement('div');
container.className = 'cell';

const topic = document.createElement('div');
topic.innerHTML = `<h4 style="line-height: 1.2">${topicSummery}</h4>`;
container.appendChild(topic);

// åˆ›å»ºè¿›åº¦æ¡å®¹å™¨
const progressBar = document.createElement('div');
progressBar.className = 'progress-bar';
container.appendChild(progressBar);

// åˆ›å»ºå›¾ä¾‹å®¹å™¨
const legend = document.createElement('div');
legend.className = 'legend';
container.appendChild(legend);

// åŠ¨æ€ç”Ÿæˆè¿›åº¦æ¡å’Œå›¾ä¾‹é¡¹
data.forEach((item, index) => {
  // è¿›åº¦æ¡éƒ¨åˆ†
  const bar = document.createElement('div');
  bar.className = 'bar';
  bar.style.width = `${item.percentage}%`;

  let color = legendColors[index % 7];

  bar.style.backgroundColor = color;
  progressBar.appendChild(bar);

  // å›¾ä¾‹é¡¹éƒ¨åˆ†
  const legendItem = document.createElement('div');
  legendItem.className = 'legend-item';

  const legendColor = document.createElement('div');
  legendColor.className = 'legend-color';
  legendColor.style.backgroundColor = color;

  // åˆ›å»º legendTextï¼Œå°†æ ‡é¢˜å’Œå æ¯”æ”¾åœ¨ä¸€è¡Œï¼Œè¯¦æƒ…åœ¨æ–°è¡Œ
  const legendText = document.createElement('div');
  legendText.className = 'legend-text';
  legendText.innerHTML = `<span><strong>${item.name}</strong> ${item.percentage}%</span><br><small>${item.details}</small>`;

  legendItem.appendChild(legendColor);
  legendItem.appendChild(legendText);
  legend.appendChild(legendItem);
});
// å°†å®¹å™¨æ·»åŠ åˆ°é¡µé¢çš„ body ä¸­
parent.appendChild(container);
